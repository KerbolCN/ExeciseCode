<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    //1、写出下列输出结果
    var x = 10;
    function test() {
      this.x = 20
      console.log(this.x)
    }
    test()  // 20


    //2、写出下列输出结果
    var name = "window"
    var obj = {
      name: "obj",
      func1: function () {
        console.log(this.name);
        (function () {
          console.log(this.name)
        })()
      }
    }
    obj.func1()   // obj  window


    //3、写出下列结果
    var name = "the window";

    var object = {
      name: "My Object",
      getName: function () {
        return this.name;
      }
    }

    console.log(object.getName());  // My Obj

    console.log((object.getName)());  // My Obj

    console.log((object.getName = object.getName)());   // the window

    //4、下列代码中当div的点击事件触发时输出的结果是？
    document.getElementById("div").onclick = function () {
      console.log(this)
    };

    //5、请写出下列代码运行结果
    var name = "window"
    var obj = {
      name: "obj"
    }

    window.setInterval(function () {
      console.log(this.name)  // window
    }, 300)

    window.setInterval(function () {
      console.log(this.name)  // obj 仅输出一次
    }.call(obj), 300)
    // call 会立即调用函数

    //6、请补全下列代码
    function foo() {
      //补全此处代码实现每隔一秒输出 hello world
      return function () {
        console.log("hello wrold");
      }
    }
    window.setInterval(foo(), 1000);


    // 7、补全下列代码实现 1+2+3+4
    function add(c, d) {
      return this.a + this.b + c + d;
    }

    /*
      在此补全代码 以两种以上方法实现
    */

    /* 法一 */
    var obj1 = {
      a: 1,
      b: 2,
      add: add
    }
    console.log(obj1.add(3, 4));

    /* 法二 */
    var a = 1, b = 2;
    console.log(add(3, 4));

    /* 法三 */
    var obj2 = {
      a: 1,
      b: 2,
    }
    console.log(obj2);


    //8、写出下列输出结果
    function f() {
      return this.a;
    }

    var g = f.bind({ a: "azerty" });
    console.log(g());   // azerty

    var h = g.bind({ a: 'yoo' });
    console.log(h());   // azerty
    // 多次bind绑定，只识别第一次绑定的结果
    // bind不能重复使用

    var o = { a: 37, f: f, g: g, h: h };
    console.log(o.f(), o.g(), o.h());   // 37 az az


    //9、补全下列代码
    var o = { prop: 37 };

    function independent() {
      return this.prop;
    }
    //在此补全代码
    function f() {
      return independent;
    }


    //*******************//
    console.log(o.f()); //  37

    //10、用call 或 apply 实现bind 方法

    var foo2 = foo.bind2(obj);
    foo2()
  </script>
</body>

</html>